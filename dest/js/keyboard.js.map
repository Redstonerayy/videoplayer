{"version":3,"sources":["keyboard.js"],"names":["constructor","description","shift","ctrl","action","this","keycode","KeyBoardInterface","keys","event","pressedkeys","filter","key","code","forEach","shiftKey","ctrlKey","addEventListener","window","keylistener","bind","removeEventListener","includes","push","togglePlay","Key","toggleMute","paused","arrowleft","video","console","arrowright","volumeslider","volumesliderfill","src","o","volume","log","value","currentTime","ended","play","arrowup","parseFloat","style","width","muted","arrowdown","keyboard","p","f","m","start"],"mappings":"MAMIA,gBACSC,EAAcA,EAAnBC,EAAAC,EAAAC,GACAC,KAAKC,YAALL,EACAI,KAAKH,QAALI,EACAD,KAAAH,MAAAA,EACAG,KAAKD,KAASA,EACjBC,KAAAD,OAAAA,SAQCG,8BACUC,GACRH,KAAAG,KAAAA,cAGQC,GACJC,IAAAA,EAAcL,KAAAG,KAAUG,OAAOC,GAAnCA,EAAAN,SAAAG,EAAAI,MAQYC,EAAAA,OAAWL,EAAIM,UACvBH,EAAAT,MAAAM,EAAAO,SAIHN,EAAEI,QAAAF,IACIK,EAAAA,mBAKVC,OAAAD,iBAAA,UAAAZ,KAAAc,YAAAC,KAAAf,cAIOa,OAAAG,oBAAA,UAAAhB,KAAAc,yBAFIP,GA3BOP,KAAAG,KAAAc,SAAAV,IAkCvBP,KAAAG,KAAAe,KAAAX,IAcYY,MAAAA,EAAAA,IAAUC,IACb,gBAVT,QAcA,GAQA,EAMQ,KACIC,MAAWC,OACRH,WAAA,QAENA,WAAA,WAcHI,EAAAA,IAAAA,IAMEC,oBApCJ,QAqCI,GACIC,EACAD,kBAKNE,EAAAA,IAAAA,IAMEF,cANR,QAUA,GAMQA,EACAG,KACAC,MAAAA,MAjDIP,WAAW,UAmDJQ,WAAM,UAEVC,EAGA,IAAAV,IAAC,eACJW,QACH,GAjBT,EAqBA,KAMcA,QAANC,IAAeR,OAGZG,UAAY,IAACM,IACZF,aACAP,aAFJ,GAIIO,EACAP,KAFGA,MAGAU,aAAA,EAACV,MAAAW,QACGN,QAAMG,IAAA,KAChBR,MAAAY,UAhDHV,WAAa,IAAIN,IAClB,kBACD,cACA,GACA,EACA,KACII,MAAMU,aAAe,IAIvBG,QAAU,IAAIjB,IACf,aACD,WACA,GACA,EACA,KACII,MAAMO,OAASP,MAAMO,QAAUP,MAAMO,QAAU,GAAM,GAAM,GAC3DJ,aAAaM,MAAQK,WAAWX,aAAaM,QAAUN,aAAaM,OAAS,GAAK,GAAK,GACvFL,iBAAiBW,MAAMC,SAAWb,aAAaM,MAAM,MAC7B,GAArBN,aAAaM,OACZF,OAAOF,IAAM,qBACbL,MAAMiB,OAAQ,GACa,EAArBd,aAAaM,OACnBF,OAAOF,IAAM,oBACbL,MAAMiB,OAAQ,GAEdV,OAAOF,IAAM,kBAKnBa,UAAY,IAAItB,IACjB,aACD,aACA,GACA,EACA,KACII,MAAMO,OAASP,MAAMO,QAA0B,IAAhBP,MAAMO,OAAgB,GAAM,GAC3DJ,aAAaM,MAAQK,WAAWX,aAAaM,QAAgC,IAAtBN,aAAaM,MAAc,GAAK,GACvFL,iBAAiBW,MAAMC,SAAWb,aAAaM,MAAM,MAC7B,GAArBN,aAAaM,OACZF,OAAOF,IAAM,qBACbL,MAAMiB,OAAQ,GACa,EAArBd,aAAaM,OACnBF,OAAOF,IAAM,oBACbL,MAAMiB,OAAQ,GAEdV,OAAOF,IAAM,kBAKzB,IAAIc,SAAW,IAAIzC,kBAAkB,CAAC0C,EAAGC,EAAGC,EAAG,EAAGvB,UAAWG,WAAYW,QAASK,YAClFC,SAASI","file":"keyboard.js","sourcesContent":["/* ------------------------------------------------\r\n       KEYCLASS\r\n       \r\n-------------------------------------------------*/\r\n\r\nclass Key{\r\n    constructor(description, keycode, shift, ctrl, action){\r\n        this.description = description;\r\n        this.keycode = keycode;\r\n        this.shift = shift;\r\n        this.ctrl = ctrl;\r\n        this.action = action\r\n    }\r\n}\r\n\r\n/* ------------------------------------------------\r\n       KEYBOARDINTERFACE\r\n       \r\n-------------------------------------------------*/\r\n\r\nclass KeyBoardInterface{\r\n    constructor(keys){\r\n        this.keys = keys;\r\n    }\r\n\r\n    keylistener(event){\r\n        let pressedkeys = this.keys.filter((key) => {\r\n            return(\r\n                key.keycode == event.code &&\r\n                key.shift == event.shiftKey &&\r\n                key.ctrl == event.ctrlKey\r\n            )\r\n        });\r\n        \r\n        pressedkeys.forEach(key => {\r\n            key.action();\r\n        });\r\n    }\r\n\r\n    start(){\r\n        window.addEventListener(\"keydown\", this.keylistener.bind(this));\r\n    }\r\n\r\n    stop(){\r\n        window.removeEventListener(\"keydown\", this.keylistener);\r\n    }\r\n\r\n    registerKey(key){\r\n        if(!this.keys.includes(key)){\r\n            this.keys.push(key);\r\n        }\r\n    }\r\n}\r\n\r\n/* ------------------------------------------------\r\n                   KEYS\r\n                   \r\n-------------------------------------------------*/\r\n\r\nconst p = new Key(\r\n    `Play or Pause`,\r\n    \"KeyP\",\r\n    false,\r\n    false,\r\n    () => {\r\n        if(video.paused){\r\n            togglePlay(\"play\");\r\n        } else {\r\n            togglePlay(\"pause\");\r\n        }\r\n    }\r\n);\r\n\r\nconst f = new Key(\r\n    `Toggle Fullscreen`,\r\n    \"KeyF\",\r\n    false,\r\n    false,\r\n    toggleFullScreen\r\n);\r\n\r\nconst m = new Key(\r\n    `Toggle Mute`,\r\n    \"KeyM\",\r\n    false,\r\n    false,\r\n    () => {\r\n        if(video.muted){\r\n            toggleMute(\"unmute\");\r\n        } else {\r\n            toggleMute(\"mute\");\r\n        }\r\n    }\r\n);\r\n\r\nconst o = new Key(\r\n    `Open Options`,\r\n    \"KeyO\",\r\n    false,\r\n    false,\r\n    () => {\r\n        console.log(\"o\");\r\n    }\r\n);\r\n\r\nconst arrowleft = new Key(\r\n    `Go Back 5s`,\r\n    \"ArrowLeft\",\r\n    false,\r\n    false,\r\n    () => {\r\n        video.currentTime -= 5;\r\n        if(video.ended){\r\n            console.log(\"a\");\r\n            video.play();\r\n        }\r\n    }\r\n);\r\n\r\nconst arrowright = new Key(\r\n    `Fast Forward 5s`,\r\n    \"ArrowRight\",\r\n    false,\r\n    false,\r\n    () => {\r\n        video.currentTime += 5;\r\n    }\r\n);\r\n\r\nconst arrowup = new Key(\r\n    `Volume +10`,\r\n    \"ArrowUp\",\r\n    false,\r\n    false,\r\n    () => {\r\n        video.volume = video.volume + (video.volume <= 0.9 ? 0.1 : 0);\r\n        volumeslider.value = parseFloat(volumeslider.value) + (volumeslider.value <= 90 ? 10 : 0);\r\n        volumesliderfill.style.width = `${volumeslider.value/2}px`;\r\n        if(volumeslider.value > 50){\r\n            volume.src = \"img/volumeloud.svg\";\r\n            video.muted = false;\r\n        } else if(volumeslider.value > 0) {\r\n            volume.src = \"img/volumelow.svg\";\r\n            video.muted = false;\r\n        } else {//0\r\n            volume.src = \"img/muted.svg\";\r\n        }\r\n    }\r\n);\r\n\r\nconst arrowdown = new Key(\r\n    `Volume -10`,\r\n    \"ArrowDown\",\r\n    false,\r\n    false,\r\n    () => {\r\n        video.volume = video.volume - (video.volume >= 0.1 ? 0.1 : 0);\r\n        volumeslider.value = parseFloat(volumeslider.value) - (volumeslider.value >= 10 ? 10 : 0);\r\n        volumesliderfill.style.width = `${volumeslider.value/2}px`;\r\n        if(volumeslider.value > 50){\r\n            volume.src = \"img/volumeloud.svg\";\r\n            video.muted = false;\r\n        } else if(volumeslider.value > 0) {\r\n            volume.src = \"img/volumelow.svg\";\r\n            video.muted = false;\r\n        } else {//0\r\n            volume.src = \"img/muted.svg\";\r\n        }\r\n    }\r\n);\r\n\r\nvar keyboard = new KeyBoardInterface([p, f, m, 0, arrowleft, arrowright, arrowup, arrowdown]);\r\nkeyboard.start();"]}