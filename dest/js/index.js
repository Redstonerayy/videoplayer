const getAbsoluteX=e=>e==document.body||null==e.offsetParent?0:getAbsoluteX(e.offsetParent)+e.offsetLeft,secondsTo_hhmmss=e=>{var o=(e-e%60)/60;return[(o-o%60)/60,o%=60,e%60]};function updateVolume(e){video.volume=(e=100<(e=e<0?0:e)?100:e)/100,updateVolumeIcon(e),volumeslider.value=e,volumesliderfill.style.width=`${volumeslider.value/2}px`}function updateVolumeIcon(e){50<e?(volume.src="img/volumeloud.svg",video.muted=!1):0<e?(volume.src="img/volumelow.svg",video.muted=!1):volume.src="img/muted.svg"}function updateProgressBar(e){e=(e=e<0?0:e)>progressbar.offsetWidth?progressbar.offsetWidth:e,currentposition.style.left=`${e}px`,e/=progressbar.offsetWidth,video.currentTime=video.duration*e,progressbar.value=progressbar.max*e}const togglePlay=e=>{"play"==e?(video.play(),playpause.src="img/pause.svg",stateimg.src="img/pause.svg"):(video.pause(),playpause.src="img/play.svg",stateimg.src="img/play.svg"),statecontainer.style.display="block",setTimeout(()=>{statecontainer.style.display="none"},500)},toggleMute=e=>{"unmute"==e?(video.muted=!1,volume.src="img/volumeloud.svg"):(video.muted=!0,volume.src="img/muted.svg")},toggleFullScreen=e=>{document.fullscreenElement==videoplayer?(document.exitFullscreen(),fullscreen.src="img/enterfullscreen.svg"):(videoplayer.requestFullscreen(),fullscreen.src="img/leavefullscreen.svg")};var videoplayer=document.querySelector(".videoplayer");videoplayer.addEventListener("mouseenter",e=>{videocontrols.style.visibility="visible",clearTimeout(hidecontrolstimeout),hidecontrolstimeout=setTimeout(()=>{videocontrols.style.visibility="hidden"},3e3)}),videoplayer.addEventListener("mouseleave",e=>{videocontrols.style.visibility="hidden"}),videoplayer.addEventListener("mousemove",e=>{videocontrols.style.visibility="visible",clearTimeout(hidecontrolstimeout),hidecontrolstimeout=setTimeout(()=>{videocontrols.style.visibility="hidden"},3e3)});var videocontainer=document.querySelector(".videos");videocontainer.addEventListener("click",e=>{video.paused?togglePlay("play"):togglePlay("pause")});var video=document.querySelector(".video");video.volume=.3,video.addEventListener("loadedmetadata",()=>{var e=secondsTo_hhmmss(Math.round(video.duration)),o=e[0]?e[0]+":":"",t=e[1]?e[1]+":":"",e=(e[2]<10?"0":"")+e[2];time.innerHTML=`0:00 / ${o}${t}${e}`,videolength=`${o}${t}${e}`,progressbar.max=video.duration}),video.addEventListener("timeupdate",e=>{progressbar.value=video.currentTime;var o=video.currentTime/video.duration;currentposition.style.left=`${progressbar.offsetWidth*o}px`;var t=secondsTo_hhmmss(Math.round(video.currentTime)),s=t[0]?t[0]+":":"",o=t[1]?t[1]+":":"0:",t=(t[2]<10?"0":"")+t[2];time.innerHTML=`${s}${o}${t} / ${videolength}`}),video.addEventListener("ended",e=>{});var shadow=document.querySelector(".shadow-video"),statecontainer=document.querySelector(".video-state-container"),stateimg=document.querySelector(".state-img"),canvas=document.querySelector(".preview-canvas"),canvascontext=canvas.getContext("2d"),videocontrols=document.querySelector(".video-controls"),progresscontainer=document.querySelector(".progress");progresscontainer.addEventListener("mousedown",e=>{updateProgressBar(e.pageX-getAbsoluteX(progressbar)),progressDown=!0}),progresscontainer.addEventListener("mouseenter",e=>{currentposition.style.display="block",canvas.style.display="flex"}),progresscontainer.addEventListener("mouseleave",e=>{currentposition.style.display="none",canvas.style.display="none"}),progresscontainer.addEventListener("mousemove",e=>{e=e.pageX-getAbsoluteX(progressbar);cvposition=e-canvas.offsetWidth/2,cvposition=cvposition<10?10:cvposition,cvposition=video.videoWidth-cvposition<10+canvas.offsetWidth?video.videoWidth-(canvas.offsetWidth+10):cvposition,canvas.style.left=`${cvposition}px`,e/=progressbar.offsetWidth;e=video.duration*e;shadow.currentTime=e,canvascontext.drawImage(shadow,0,0,video.videoWidth,video.videoHeight,0,0,canvas.width,canvas.height)});var progressbar=document.querySelector(".video-progress"),currentposition=document.querySelector(".current-position"),controls=document.querySelector(".controls"),playpause=document.querySelector(".playpause");playpause.addEventListener("click",e=>{video.paused?togglePlay("play"):togglePlay("pause")});var volumecontrol=document.querySelector(".volume-control");volumecontrol.addEventListener("mouseenter",e=>{volumeslidercontainer.style.display="flex"}),volumecontrol.addEventListener("mouseleave",e=>{volumeslidercontainer.style.display="none"});var volume=document.querySelector(".volume");volume.addEventListener("click",e=>{video.muted?toggleMute("unmute"):toggleMute("mute")});var volumeslidercontainer=document.querySelector(".volume-slider-container"),volumeslider=document.querySelector(".volume-slider");volumeslider.addEventListener("mousedown",e=>{e=e.pageX-getAbsoluteX(volumeslider);updateVolume(e*=2)}),volumeslider.addEventListener("mousemove",e=>{mouseDown&&(e=e.pageX-getAbsoluteX(volumeslider),updateVolume(e*=2))}),volumeslider.addEventListener("wheel",e=>{e.deltaY<0?volumeslider.value=parseFloat(volumeslider.value)+10:volumeslider.value=volumeslider.value-10,video.volume=volumeslider.value/100,volumesliderfill.style.width=`${volumeslider.value/2}px`,updateVolumeIcon(volumeslider.value)});var volumesliderfill=document.querySelector(".volume-slider-fill"),time=document.querySelector(".time-span"),fullscreen=document.querySelector(".fullscreen");fullscreen.addEventListener("click",toggleFullScreen);var hidecontrolstimeout,videolength,mouseDown=!1,progressDown=!1;document.body.onmousedown=function(){mouseDown=!0},document.body.onmouseup=function(){progressDown&&!video.ended&&togglePlay("play"),progressDown=mouseDown=!1},document.addEventListener("mousemove",e=>{progressDown&&(video.paused||togglePlay("pause"),currentposition.style.display="block",updateProgressBar(e.pageX-getAbsoluteX(progressbar)))}),window.addEventListener("mouseleave",e=>{null==e.toElement&&(mouseDown=!1,progressDown&&!video.ended&&togglePlay("play"),progressDown=!1)}),document.addEventListener("dragstart",e=>{console.log(e)});
//# sourceMappingURL=index.js.map
